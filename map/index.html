<!DOCTYPE html>
<html>
  <head>
    <title>Washington Square Park Tree Map</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

    


    
    <script type="text/javascript">
      var wsp = {}; //"namespace" for included js files
      var wspApp = {}; //global variable; will be instance of our app
    </script>
  
    <!--use google's jquery as it is likely already cached-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"
      type="text/javascript">
    </script>
    
    <link rel="stylesheet"
      href="//ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.js"></script>
    
    <script src="https://maps.googleapis.com/maps/api/js?v=3"></script>
    <script src="js/wspmap.js" type="text/javascript"></script>
    <script src="js/panel.js" type="text/javascript"></script>
    <script src="js/markerclusterer_compiled.js" type="text/javascript"></script>

    
    <link rel="stylesheet" href="css/style.css"/>
    
    <script type="text/javascript">
      $( document ).on( "pagecreate", "#map-page", function() {
        wspApp.baseMap = new google.maps.Map(document.getElementById('map-canvas'),
            { zoom: 17,
              center: new google.maps.LatLng(40.731030, -73.997300),
              streetViewControl: false,
              mapTypeControlOptions: {
                position: google.maps.ControlPosition.TOP_LEFT
              }


        });

        wspApp.map = new wsp.Map();

        //load data (async requests).  load taxa first
        wspApp.map.requestTaxa();   
        wspApp.map.requestTrees();
        
   
        
        
        //now add a custom control that jumps to user's location.
        //note that this control won't add itself if html5's navigator.geolocation
        //doesn't exist        
        //wspApp.map.addLocationControl();
        //var lc = new wsp.LocationControl(wspApp.baseMap);
        
      });
         
    </script>
  </head>
  <body>
        
    <div data-url="map-page" data-role="page" id="map-page" data-title="WSP">
    
      <div data-role="header" data-position="fixed">
          <h1>WSP Eco Map</h1>
          <button id="user-settings"
            class="ui-btn ui-btn-right ui-corner-all ui-btn-a ui-mini ui-btn-icon-notext ui-icon-gear"
            type="button"
            >Options</button>
      </div><!-- /header -->

      <div role="main" class="ui-content">
        <!--
        <a href="#add-form" class="ui-btn ui-icon-gear ui-btn-icon-notext ui-corner-all">No text</a>
        -->
        <div id="map-canvas"></div>
      
      </div><!-- /content -->

      <div id="tree-info-panel" data-role="panel" data-position-fixed="true" data-display="overlay"
        data-theme="b" data-animate="false">

        <h3 class="panel-heading">About this tree</h3>
        <div class="panel-detail">
          <label class="panel-descriptor">Common name</label>
          <div class="common panel-data">c. name</div>
          
          <label class="panel-descriptor">Scientific name</label>
          <a id="tree-data-link" href="https://www.google.com" target="_blank">
            <label class="scientific panel-data">sci name</label>
          </a>
          
          <label class="panel-descriptor">Diameter (dbh)</label>
          <div class="diameter panel-data">dbh</div>

          <div class="button-wrapper">
            <input type="button" class="edit ui-btn ui-corner-all ui-btn-b ui-mini"
            data-icon="edit" data-iconpos="notext" />
          </div>
          
          <label class="error"></label>
          <a href="#" data-rel="close" class="ui-btn ui-corner-all ui-btn-b ui-mini">
            Close
          </a>
          
          <ul class="comments" data-role="listview"></ul>
          
        </div>
          
      </div><!-- /panel -->
      <div id="tree-edit-panel" data-role="panel" data-position-fixed="true" data-display="overlay"
        data-theme="b" data-animate="false">          
          <label class="panel-descriptor">Select tree type</label>
          
          <select class="taxon panel-data">
          </select>     
          
          
          <label class="panel-descriptor">Diameter (inches)</label>
          <input type="text" class="diameter panel-data">
          
          <label class="error"></label>
          
          <button type="button"
            class="update ui-btn ui-corner-all ui-btn-a ui-mini">Update</button>
          <button type="button"
            class="cancel ui-btn ui-corner-all ui-btn-a ui-mini">Cancel</button>
      </div><!-- /panel -->

      <div id="login-panel" data-role="panel" data-position="right" data-position-fixed="true" data-display="overlay" data-theme="b" data-animate="false">
        <h3 class="panel-heading">Login</h3>
        
        <label class="panel-descriptor">Username</label>
        <input class="username" value="" data-clear-btn="true" data-mini="true"
          data-theme="a" type="text">
        
        <label class="panel-descriptor">Password</label>
        <input class="password" value=""
          data-clear-btn="true" autocomplete="off" data-mini="true"
          data-theme="a" type="password">
        
        <label class="error"></label>
        
        <br>
        <button type="button" class="login ui-btn ui-corner-all ui-mini ui-btn-a">
          Login</button>
        <button type="button"
            class="cancel ui-btn ui-corner-all ui-btn-a ui-mini">Cancel</button>
        
      </div><!-- /panel -->

      <div id="user-panel" data-role="panel" data-position="right" data-position-fixed="true" data-display="overlay" data-theme="b" data-animate="false">
        <h3 class="display-name panel-heading">Login</h3>
        
        <label class="panel-descriptor">Update settings here (eventually)</label>
        
        <br>
        <button type="button" class="logout ui-btn ui-corner-all ui-mini ui-btn-a">
          Logout</button>
        <button type="button"
            class="close ui-btn ui-corner-all ui-btn-a ui-mini">Close</button>
        
      </div><!-- /panel -->

      <div id="message-panel" data-role="panel" data-position="right" data-position-fixed="true" data-display="overlay" data-theme="b" data-animate="false">
        <h3 class="panel-heading">Hey there!</h3>
        
        <label class="error"></label>
        <button type="button"
            class="close ui-btn ui-corner-all ui-btn-a ui-mini">Close</button>
        
      </div><!-- /panel -->

      <div id="settings-panel" data-role="panel" data-position="right" data-position-fixed="true" data-display="overlay" data-theme="b" data-animate="false">
        <h3 class="panel-heading">Settings</h3>
                
        <label class="panel-descriptor">
          <input class="location" data-setting="location" type="checkbox" checked="checked">
          Show my location
        </label>
        <label class="panel-descriptor">
          <input class="minetta" data-setting="minetta" type="checkbox">Show Minetta Creek</label>
      
        <button type="button"
            class="close ui-btn ui-corner-all ui-btn-a ui-mini">Close</button>
        
      </div><!-- /panel -->

      <div id="add-taxon-panel" data-role="panel" data-position="left" data-position-fixed="true" data-display="overlay" data-theme="b" data-animate="false">
        <h3 class="panel-heading">Enter Taxon Info</h3>
        
        <label class="panel-descriptor">Genus</label>
        <input type="text" class="genus panel-data" maxlength="100">
        <label class="panel-descriptor">Species</label>
        <input type="text" class="species panel-data" maxlength="100">
        <label class="panel-descriptor">Common name</label>
        <input type="text" class="common panel-data" maxlength="100">

        
        <label class="error"></label>

        <button type="button" class="submit ui-btn ui-corner-all ui-mini ui-btn-a">
          Submit</button>

        <button type="button"
            class="cancel ui-btn ui-corner-all ui-btn-a ui-mini">Cancel</button>
        
      </div><!-- /panel -->

    </div>
      
    
  </body>
</html>

